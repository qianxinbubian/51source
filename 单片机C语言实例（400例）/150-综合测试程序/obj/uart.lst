C51 COMPILER V7.06   UART                                                                  07/19/2010 11:10:51 PAGE 1   


C51 COMPILER V7.06, COMPILATION OF MODULE UART
OBJECT MODULE PLACED IN .\obj\uart.obj
COMPILER INVOKED BY: d:\Keil\C51\BIN\C51.EXE uart.c BROWSE DEBUG OBJECTEXTEND PRINT(.\obj\uart.lst) OBJECT(.\obj\uart.ob
                    -j)

stmt level    source

   1           
   2          /*-----------------------------------------------
   3            ƣͨ
   4            վwww.doflye.net
   5            дshifang
   6            ڣ2009.5
   7            ޸ģ
   8            ݣӺôڻusbתԣظó򣬴򿪵Դ
   9                  򿪴ڵԳ򣬽Ϊ9600żУ
  10                  11.0592MHzͺͽʹõĸʽͬ綼ʹ
  11                  ַ͸ʽλ򣬿Կյ UART test̳www.doflye.net ڷ
             -
  12                          ȻڷϢͬϢշ
  13          ------------------------------------------------*/
  14          
  15          #include<reg52.h> //ͷļһҪĶͷļ⹦ܼĴĶ                        
  16          #include"uart.h"
  17          #include <stdio.h> 
  18          /*------------------------------------------------
  19                             
  20          ------------------------------------------------*/
  21          void UartSendStr(unsigned char *s);
  22          
  23          /*------------------------------------------------
  24                              ڳʼ
  25          ------------------------------------------------*/
  26          void InitUART  (void)
  27          {
  28   1      
  29   1          SCON  = 0x50;                       // SCON: ģʽ 1, 8-bit UART, ʹܽ  
  30   1          TMOD |= 0x20;               // TMOD: timer 1, mode 2, 8-bit װ
  31   1          TH1   = 0xFD;               // TH1:  װֵ 9600   11.0592MHz  
  32   1          TR1   = 1;                  // TR1:  timer 1                          
  33   1          //EA    = 1;                  //ж
  34   1          //ES    = 1;                  //򿪴ж
  35   1              TI    = 1;                  //
  36   1      }                            
  37          
  38          /*------------------------------------------------
  39                               жϳ
  40          ------------------------------------------------*/
  41          void UART_SER (void) interrupt 4 //жϷ
  42          {
  43   1          unsigned char Temp;          //ʱ 
  44   1         
  45   1         if(RI)                        //жǽжϲ
  46   1           {
  47   2                RI=0;                      //־λ
  48   2                Temp=SBUF;                 //뻺ֵ
  49   2                P1=Temp;                   //ֵP1ڣڹ۲
  50   2            SBUF=Temp;                 //ѽյֵٷصԶ
  51   2               }
  52   1         if(TI)                        //Ƿͱ־λ
  53   1           TI=0;
C51 COMPILER V7.06   UART                                                                  07/19/2010 11:10:51 PAGE 2   

  54   1      } 
  55          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     42    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
